<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
  <title>编辑游戏</title>
  <link rel="icon" href="images/WS.jpg" type="image/jpeg">
  <link rel="stylesheet" href="css/style.css">
  <style>
    /* 全局样式调整 */
    body {
      margin: 0;
      background-color: #f0f8ff; /* 浅蓝色背景 */
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
    }

    /* 容器样式 */
    .edit-container {
    background-color: #ffffff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    width: 90%;
    max-width: 1200px;
    margin: 0 auto; /* 移除顶部和底部的外边距，仅左右居中 */
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-gap: 20px;
}


    h1, h2, h3 {
      text-align: center;
    }

    textarea, input {
      display: block;
      margin: 10px auto;
      width: 90%; /* 保证输入框宽度在容器内 */
    }

    button {
      /* 按钮样式已在外部 CSS 中定义 */
    }

    label {
      display: block;
      margin: 10px auto;
      text-align: left;
      width: 90%;
    }

    .section {
      margin-bottom: 20px;
      background-color: #f9f9f9;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    /* 调整部分布局以适应按钮样式 */
    .attribute-form, .event-form, .ending-form {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      justify-content: center;
    }

    .attribute-form label, .event-form label, .ending-form label {
      width: auto;
      text-align: right;
    }

    /* 响应式设计 */
    @media (max-width: 768px) {
      .edit-container {
        grid-template-columns: 1fr; /* 单列布局 */
      }
    }
  </style>
</head>
<body>
  <div class="edit-container">
    <!-- 基本信息管理 -->
    <div id="game-info-section" class="section">
      <h2>基本信息</h2>
      <div class="form-group">
        <label for="game-title">游戏标题:</label>
        <input type="text" id="game-title" />
      </div>
      <div class="form-group">
        <label for="game-background">游戏背景:</label>
        <textarea id="game-background" rows="5"></textarea>
      </div>
      <button id="update-game-btn" class="edit-btn">更新游戏信息</button>
    </div>

    <!-- 属性管理 -->
    <div id="attribute-section" class="section">
      <h2>属性管理</h2>
      <div id="attribute-list"></div>
      <h3>添加新属性</h3>
      <div class="attribute-form">
        <div class="form-group">
          <label for="new-attr-name">名称:</label>
          <input type="text" id="new-attr-name" />
        </div>
        <div class="form-group">
          <label for="new-attr-value">初始值:</label>
          <input type="number" id="new-attr-value" step="any" />
        </div>
        <button id="add-attr-btn" class="add-btn">添加属性</button>
      </div>
    </div>

    <!-- 事件管理 -->
    <div id="event-section" class="section">
      <h2>事件管理</h2>
      <div id="event-list"></div>
      <h3>添加新事件</h3>
      <div class="event-form">
        <div class="form-group">
          <label for="new-event-id">事件ID:</label>
          <input type="text" id="new-event-id" />
        </div>
        <div class="form-group">
          <label for="new-event-title">标题:</label>
          <input type="text" id="new-event-title" />
        </div>
        <div class="form-group">
          <label for="new-event-desc">描述:</label>
          <textarea id="new-event-desc" rows="3"></textarea>
        </div>
      </div>
      <div class="event-form">
        <button id="llm-generate-btn" class="other-btn">使用 LLM 生成扩写和选项</button>
      </div>
      <div class="event-form">
        <div class="form-group">
          <label for="range-attribute">属性：</label>
          <select id="range-attribute"></select>
        </div>
      </div>
      <div class="event-form">
        <div class="form-group">
          <label for="range-min">下限：</label>
          <input type="number" id="range-min" placeholder="输入下限值" />
        </div>
        <div class="form-group">
          <label for="range-max">上限：</label>
          <input type="number" id="range-max" placeholder="输入上限值" />
        </div>
      </div>
      <div id="option-section" style="display:none;">
        <h3>选项管理 (当前编辑事件ID: <span id="current-event-id"></span>)</h3>
        <div id="option-list"></div>
        <button id="add-blank-option-btn" class="add-blank-option-btn">添加空白选项</button>
      </div>
      <button id="save-event-btn" class="save-btn">保存事件及选项</button>
    </div>

    <!-- 结局管理 -->
    <div id="ending-section" class="section">
      <h2>结局管理</h2>
      <div id="ending-list"></div>
      <h3>添加新结局</h3>
      <div class="ending-form">
        <div class="form-group">
          <label for="new-ending-desc">描述:</label>
          <textarea id="new-ending-desc" rows="3"></textarea>
        </div>
      </div>
      <div class="ending-form">
        <div class="form-group">
          <label for="ending-attribute-select">可比较的属性(可选)：</label>
          <select id="ending-attribute-select"></select>
        </div>
      </div>
      <div class="ending-form">
        <div class="form-group">
          <label for="ending-condition-type">选择条件类型：</label>
          <select id="ending-condition-type">
            <option value="attribute">属性比较</option>
            <option value="item">是否拥有物品</option>
            <option value="flag">是否满足Flag</option>
          </select>
        </div>
        <button id="add-ending-condition-btn" class="add-blank-option-btn">添加条件</button>
      </div>
      <button id="add-ending-btn" class="add-btn">添加结局</button>
    </div>
  </div>
  <script src="js/edit_game.js"></script>
</body>
</html>
